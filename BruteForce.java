import java.util.*;

public class BruteForce implements Stroj {
    private char[][] mozniOdzivi;
    private short[][] mapaOdzivov;
    private char[][] mozneBesede;
    private char[][] slovar;
    private char[][] filtriraneBesede;
    private char[] prejsnjaIzbira;
    private short dolzinaBesed;

    @Override
    public void inicializiraj(Set<String> besedeList) {
        this.dolzinaBesed = 6;

        this.slovar = pretvoriBesede(besedeList);
        this.mozneBesede = pretvoriBesede(besedeList);
        this.mozniOdzivi = vrniMozneOdzive();
        System.out.println("Računam mapo odzivov...");
        this.mapaOdzivov = vrniMapoOdzivov();
    }

    @Override
    public String poteza(List<Character> odzivList) {
        short num = 100;

        // Prva poteza
        if (odzivList == null) {
            /*
            Tukaj re-inicializiramo vse spremenljivke (ker dobimo novo besedo) in
            vrnemo našo prvo besedo
            */

            this.filtriraneBesede = Arrays.copyOf(this.mozneBesede, this.mozneBesede.length);

            if (this.filtriraneBesede.length < num) {
                return new String(this.prejsnjaIzbira = vrniOptimalnoBesedo2());
            }

            return new String(this.prejsnjaIzbira = vrniOptimalnoBesedo());
        }

        // pretvorimo tudi odziv v char[]
        char[] odziv = pretvoriOdziv(odzivList);

        // Smo ugotovili besedo
        if (kolikoVTabeli(odziv, '+') == this.dolzinaBesed) {
//            dodajUgotovljenoBesedo();
            odstaniUgotovljenoBesedo();

            return null;
        }

        // filtriraj besede
        this.filtriraneBesede = filtrirajBesede(this.filtriraneBesede, this.prejsnjaIzbira, odziv);

//        System.out.println(Arrays.deepToString(this.filtriraneBesede));

        // vrni optimalno besedo
        if (this.filtriraneBesede.length < num) {
            return new String(this.prejsnjaIzbira = vrniOptimalnoBesedo2());
        }

        return new String(this.prejsnjaIzbira = vrniOptimalnoBesedo());
    }

    public char[] vrniOptimalnoBesedo2() {
        long start = System.currentTimeMillis();
        System.out.println("Računam optimalno besedo...");

        float najOdstrani = 0;
        short najBesedaIndeks = -1;

        for (short i=0; i<this.filtriraneBesede.length; i++) {
            if (this.filtriraneBesede[i] == null) {
                continue;
            }

            float kolikoBesedOdstrani = kolikoBesedOdstrani(i);

            if (kolikoBesedOdstrani > najOdstrani) {
                najOdstrani = kolikoBesedOdstrani;
                najBesedaIndeks = i;
            }
        }

        long totTime = (System.currentTimeMillis() - start) / 1000;

        System.out.println("Rabil sem " + totTime + " sekund.");

        return this.filtriraneBesede[najBesedaIndeks];
    }

    public float kolikoBesedOdstrani(short i1) {
        float odstranjeneBesede = 0;

        short counterBesed = 0;
        for (short i2=0; i2<this.filtriraneBesede.length; i2++) {
            if (this.filtriraneBesede[i2] == null) {
                continue;
            }

            char[] odziv = mozniOdzivi[this.mapaOdzivov[i1][i2]];
            char[][] tempBesede = Arrays.copyOf(this.filtriraneBesede, this.filtriraneBesede.length);
            char[][] filtriraneTemp = filtrirajBesede(tempBesede, this.filtriraneBesede[i1], odziv);

            short razlika = kolikoVTabeli(filtriraneTemp, null);

            odstranjeneBesede += razlika;
            counterBesed++;
        }

        return odstranjeneBesede / counterBesed;
    }

    public char[][] vrniMozneOdzive() {
        // Moj Bog, žal mi je, da sem grešil in žalil tebe, ki si moj najboljši Oče. Trdno sklenem, da se bom poboljšal, pomagaj mi s svojo milostjo. Amen.
        return new char[][]{{'-','-','-','-','-','-'},{'-','-','-','-','-','o'},{'-','-','-','-','-','+'},{'-','-','-','-','o','-'},{'-','-','-','-','o','o'},{'-','-','-','-','o','+'},{'-','-','-','-','+','-'},{'-','-','-','-','+','o'},{'-','-','-','-','+','+'},{'-','-','-','o','-','-'},{'-','-','-','o','-','o'},{'-','-','-','o','-','+'},{'-','-','-','o','o','-'},{'-','-','-','o','o','o'},{'-','-','-','o','o','+'},{'-','-','-','o','+','-'},{'-','-','-','o','+','o'},{'-','-','-','o','+','+'},{'-','-','-','+','-','-'},{'-','-','-','+','-','o'},{'-','-','-','+','-','+'},{'-','-','-','+','o','-'},{'-','-','-','+','o','o'},{'-','-','-','+','o','+'},{'-','-','-','+','+','-'},{'-','-','-','+','+','o'},{'-','-','-','+','+','+'},{'-','-','o','-','-','-'},{'-','-','o','-','-','o'},{'-','-','o','-','-','+'},{'-','-','o','-','o','-'},{'-','-','o','-','o','o'},{'-','-','o','-','o','+'},{'-','-','o','-','+','-'},{'-','-','o','-','+','o'},{'-','-','o','-','+','+'},{'-','-','o','o','-','-'},{'-','-','o','o','-','o'},{'-','-','o','o','-','+'},{'-','-','o','o','o','-'},{'-','-','o','o','o','o'},{'-','-','o','o','o','+'},{'-','-','o','o','+','-'},{'-','-','o','o','+','o'},{'-','-','o','o','+','+'},{'-','-','o','+','-','-'},{'-','-','o','+','-','o'},{'-','-','o','+','-','+'},{'-','-','o','+','o','-'},{'-','-','o','+','o','o'},{'-','-','o','+','o','+'},{'-','-','o','+','+','-'},{'-','-','o','+','+','o'},{'-','-','o','+','+','+'},{'-','-','+','-','-','-'},{'-','-','+','-','-','o'},{'-','-','+','-','-','+'},{'-','-','+','-','o','-'},{'-','-','+','-','o','o'},{'-','-','+','-','o','+'},{'-','-','+','-','+','-'},{'-','-','+','-','+','o'},{'-','-','+','-','+','+'},{'-','-','+','o','-','-'},{'-','-','+','o','-','o'},{'-','-','+','o','-','+'},{'-','-','+','o','o','-'},{'-','-','+','o','o','o'},{'-','-','+','o','o','+'},{'-','-','+','o','+','-'},{'-','-','+','o','+','o'},{'-','-','+','o','+','+'},{'-','-','+','+','-','-'},{'-','-','+','+','-','o'},{'-','-','+','+','-','+'},{'-','-','+','+','o','-'},{'-','-','+','+','o','o'},{'-','-','+','+','o','+'},{'-','-','+','+','+','-'},{'-','-','+','+','+','o'},{'-','-','+','+','+','+'},{'-','o','-','-','-','-'},{'-','o','-','-','-','o'},{'-','o','-','-','-','+'},{'-','o','-','-','o','-'},{'-','o','-','-','o','o'},{'-','o','-','-','o','+'},{'-','o','-','-','+','-'},{'-','o','-','-','+','o'},{'-','o','-','-','+','+'},{'-','o','-','o','-','-'},{'-','o','-','o','-','o'},{'-','o','-','o','-','+'},{'-','o','-','o','o','-'},{'-','o','-','o','o','o'},{'-','o','-','o','o','+'},{'-','o','-','o','+','-'},{'-','o','-','o','+','o'},{'-','o','-','o','+','+'},{'-','o','-','+','-','-'},{'-','o','-','+','-','o'},{'-','o','-','+','-','+'},{'-','o','-','+','o','-'},{'-','o','-','+','o','o'},{'-','o','-','+','o','+'},{'-','o','-','+','+','-'},{'-','o','-','+','+','o'},{'-','o','-','+','+','+'},{'-','o','o','-','-','-'},{'-','o','o','-','-','o'},{'-','o','o','-','-','+'},{'-','o','o','-','o','-'},{'-','o','o','-','o','o'},{'-','o','o','-','o','+'},{'-','o','o','-','+','-'},{'-','o','o','-','+','o'},{'-','o','o','-','+','+'},{'-','o','o','o','-','-'},{'-','o','o','o','-','o'},{'-','o','o','o','-','+'},{'-','o','o','o','o','-'},{'-','o','o','o','o','o'},{'-','o','o','o','o','+'},{'-','o','o','o','+','-'},{'-','o','o','o','+','o'},{'-','o','o','o','+','+'},{'-','o','o','+','-','-'},{'-','o','o','+','-','o'},{'-','o','o','+','-','+'},{'-','o','o','+','o','-'},{'-','o','o','+','o','o'},{'-','o','o','+','o','+'},{'-','o','o','+','+','-'},{'-','o','o','+','+','o'},{'-','o','o','+','+','+'},{'-','o','+','-','-','-'},{'-','o','+','-','-','o'},{'-','o','+','-','-','+'},{'-','o','+','-','o','-'},{'-','o','+','-','o','o'},{'-','o','+','-','o','+'},{'-','o','+','-','+','-'},{'-','o','+','-','+','o'},{'-','o','+','-','+','+'},{'-','o','+','o','-','-'},{'-','o','+','o','-','o'},{'-','o','+','o','-','+'},{'-','o','+','o','o','-'},{'-','o','+','o','o','o'},{'-','o','+','o','o','+'},{'-','o','+','o','+','-'},{'-','o','+','o','+','o'},{'-','o','+','o','+','+'},{'-','o','+','+','-','-'},{'-','o','+','+','-','o'},{'-','o','+','+','-','+'},{'-','o','+','+','o','-'},{'-','o','+','+','o','o'},{'-','o','+','+','o','+'},{'-','o','+','+','+','-'},{'-','o','+','+','+','o'},{'-','o','+','+','+','+'},{'-','+','-','-','-','-'},{'-','+','-','-','-','o'},{'-','+','-','-','-','+'},{'-','+','-','-','o','-'},{'-','+','-','-','o','o'},{'-','+','-','-','o','+'},{'-','+','-','-','+','-'},{'-','+','-','-','+','o'},{'-','+','-','-','+','+'},{'-','+','-','o','-','-'},{'-','+','-','o','-','o'},{'-','+','-','o','-','+'},{'-','+','-','o','o','-'},{'-','+','-','o','o','o'},{'-','+','-','o','o','+'},{'-','+','-','o','+','-'},{'-','+','-','o','+','o'},{'-','+','-','o','+','+'},{'-','+','-','+','-','-'},{'-','+','-','+','-','o'},{'-','+','-','+','-','+'},{'-','+','-','+','o','-'},{'-','+','-','+','o','o'},{'-','+','-','+','o','+'},{'-','+','-','+','+','-'},{'-','+','-','+','+','o'},{'-','+','-','+','+','+'},{'-','+','o','-','-','-'},{'-','+','o','-','-','o'},{'-','+','o','-','-','+'},{'-','+','o','-','o','-'},{'-','+','o','-','o','o'},{'-','+','o','-','o','+'},{'-','+','o','-','+','-'},{'-','+','o','-','+','o'},{'-','+','o','-','+','+'},{'-','+','o','o','-','-'},{'-','+','o','o','-','o'},{'-','+','o','o','-','+'},{'-','+','o','o','o','-'},{'-','+','o','o','o','o'},{'-','+','o','o','o','+'},{'-','+','o','o','+','-'},{'-','+','o','o','+','o'},{'-','+','o','o','+','+'},{'-','+','o','+','-','-'},{'-','+','o','+','-','o'},{'-','+','o','+','-','+'},{'-','+','o','+','o','-'},{'-','+','o','+','o','o'},{'-','+','o','+','o','+'},{'-','+','o','+','+','-'},{'-','+','o','+','+','o'},{'-','+','o','+','+','+'},{'-','+','+','-','-','-'},{'-','+','+','-','-','o'},{'-','+','+','-','-','+'},{'-','+','+','-','o','-'},{'-','+','+','-','o','o'},{'-','+','+','-','o','+'},{'-','+','+','-','+','-'},{'-','+','+','-','+','o'},{'-','+','+','-','+','+'},{'-','+','+','o','-','-'},{'-','+','+','o','-','o'},{'-','+','+','o','-','+'},{'-','+','+','o','o','-'},{'-','+','+','o','o','o'},{'-','+','+','o','o','+'},{'-','+','+','o','+','-'},{'-','+','+','o','+','o'},{'-','+','+','o','+','+'},{'-','+','+','+','-','-'},{'-','+','+','+','-','o'},{'-','+','+','+','-','+'},{'-','+','+','+','o','-'},{'-','+','+','+','o','o'},{'-','+','+','+','o','+'},{'-','+','+','+','+','-'},{'-','+','+','+','+','o'},{'-','+','+','+','+','+'},{'o','-','-','-','-','-'},{'o','-','-','-','-','o'},{'o','-','-','-','-','+'},{'o','-','-','-','o','-'},{'o','-','-','-','o','o'},{'o','-','-','-','o','+'},{'o','-','-','-','+','-'},{'o','-','-','-','+','o'},{'o','-','-','-','+','+'},{'o','-','-','o','-','-'},{'o','-','-','o','-','o'},{'o','-','-','o','-','+'},{'o','-','-','o','o','-'},{'o','-','-','o','o','o'},{'o','-','-','o','o','+'},{'o','-','-','o','+','-'},{'o','-','-','o','+','o'},{'o','-','-','o','+','+'},{'o','-','-','+','-','-'},{'o','-','-','+','-','o'},{'o','-','-','+','-','+'},{'o','-','-','+','o','-'},{'o','-','-','+','o','o'},{'o','-','-','+','o','+'},{'o','-','-','+','+','-'},{'o','-','-','+','+','o'},{'o','-','-','+','+','+'},{'o','-','o','-','-','-'},{'o','-','o','-','-','o'},{'o','-','o','-','-','+'},{'o','-','o','-','o','-'},{'o','-','o','-','o','o'},{'o','-','o','-','o','+'},{'o','-','o','-','+','-'},{'o','-','o','-','+','o'},{'o','-','o','-','+','+'},{'o','-','o','o','-','-'},{'o','-','o','o','-','o'},{'o','-','o','o','-','+'},{'o','-','o','o','o','-'},{'o','-','o','o','o','o'},{'o','-','o','o','o','+'},{'o','-','o','o','+','-'},{'o','-','o','o','+','o'},{'o','-','o','o','+','+'},{'o','-','o','+','-','-'},{'o','-','o','+','-','o'},{'o','-','o','+','-','+'},{'o','-','o','+','o','-'},{'o','-','o','+','o','o'},{'o','-','o','+','o','+'},{'o','-','o','+','+','-'},{'o','-','o','+','+','o'},{'o','-','o','+','+','+'},{'o','-','+','-','-','-'},{'o','-','+','-','-','o'},{'o','-','+','-','-','+'},{'o','-','+','-','o','-'},{'o','-','+','-','o','o'},{'o','-','+','-','o','+'},{'o','-','+','-','+','-'},{'o','-','+','-','+','o'},{'o','-','+','-','+','+'},{'o','-','+','o','-','-'},{'o','-','+','o','-','o'},{'o','-','+','o','-','+'},{'o','-','+','o','o','-'},{'o','-','+','o','o','o'},{'o','-','+','o','o','+'},{'o','-','+','o','+','-'},{'o','-','+','o','+','o'},{'o','-','+','o','+','+'},{'o','-','+','+','-','-'},{'o','-','+','+','-','o'},{'o','-','+','+','-','+'},{'o','-','+','+','o','-'},{'o','-','+','+','o','o'},{'o','-','+','+','o','+'},{'o','-','+','+','+','-'},{'o','-','+','+','+','o'},{'o','-','+','+','+','+'},{'o','o','-','-','-','-'},{'o','o','-','-','-','o'},{'o','o','-','-','-','+'},{'o','o','-','-','o','-'},{'o','o','-','-','o','o'},{'o','o','-','-','o','+'},{'o','o','-','-','+','-'},{'o','o','-','-','+','o'},{'o','o','-','-','+','+'},{'o','o','-','o','-','-'},{'o','o','-','o','-','o'},{'o','o','-','o','-','+'},{'o','o','-','o','o','-'},{'o','o','-','o','o','o'},{'o','o','-','o','o','+'},{'o','o','-','o','+','-'},{'o','o','-','o','+','o'},{'o','o','-','o','+','+'},{'o','o','-','+','-','-'},{'o','o','-','+','-','o'},{'o','o','-','+','-','+'},{'o','o','-','+','o','-'},{'o','o','-','+','o','o'},{'o','o','-','+','o','+'},{'o','o','-','+','+','-'},{'o','o','-','+','+','o'},{'o','o','-','+','+','+'},{'o','o','o','-','-','-'},{'o','o','o','-','-','o'},{'o','o','o','-','-','+'},{'o','o','o','-','o','-'},{'o','o','o','-','o','o'},{'o','o','o','-','o','+'},{'o','o','o','-','+','-'},{'o','o','o','-','+','o'},{'o','o','o','-','+','+'},{'o','o','o','o','-','-'},{'o','o','o','o','-','o'},{'o','o','o','o','-','+'},{'o','o','o','o','o','-'},{'o','o','o','o','o','o'},{'o','o','o','o','o','+'},{'o','o','o','o','+','-'},{'o','o','o','o','+','o'},{'o','o','o','o','+','+'},{'o','o','o','+','-','-'},{'o','o','o','+','-','o'},{'o','o','o','+','-','+'},{'o','o','o','+','o','-'},{'o','o','o','+','o','o'},{'o','o','o','+','o','+'},{'o','o','o','+','+','-'},{'o','o','o','+','+','o'},{'o','o','o','+','+','+'},{'o','o','+','-','-','-'},{'o','o','+','-','-','o'},{'o','o','+','-','-','+'},{'o','o','+','-','o','-'},{'o','o','+','-','o','o'},{'o','o','+','-','o','+'},{'o','o','+','-','+','-'},{'o','o','+','-','+','o'},{'o','o','+','-','+','+'},{'o','o','+','o','-','-'},{'o','o','+','o','-','o'},{'o','o','+','o','-','+'},{'o','o','+','o','o','-'},{'o','o','+','o','o','o'},{'o','o','+','o','o','+'},{'o','o','+','o','+','-'},{'o','o','+','o','+','o'},{'o','o','+','o','+','+'},{'o','o','+','+','-','-'},{'o','o','+','+','-','o'},{'o','o','+','+','-','+'},{'o','o','+','+','o','-'},{'o','o','+','+','o','o'},{'o','o','+','+','o','+'},{'o','o','+','+','+','-'},{'o','o','+','+','+','o'},{'o','o','+','+','+','+'},{'o','+','-','-','-','-'},{'o','+','-','-','-','o'},{'o','+','-','-','-','+'},{'o','+','-','-','o','-'},{'o','+','-','-','o','o'},{'o','+','-','-','o','+'},{'o','+','-','-','+','-'},{'o','+','-','-','+','o'},{'o','+','-','-','+','+'},{'o','+','-','o','-','-'},{'o','+','-','o','-','o'},{'o','+','-','o','-','+'},{'o','+','-','o','o','-'},{'o','+','-','o','o','o'},{'o','+','-','o','o','+'},{'o','+','-','o','+','-'},{'o','+','-','o','+','o'},{'o','+','-','o','+','+'},{'o','+','-','+','-','-'},{'o','+','-','+','-','o'},{'o','+','-','+','-','+'},{'o','+','-','+','o','-'},{'o','+','-','+','o','o'},{'o','+','-','+','o','+'},{'o','+','-','+','+','-'},{'o','+','-','+','+','o'},{'o','+','-','+','+','+'},{'o','+','o','-','-','-'},{'o','+','o','-','-','o'},{'o','+','o','-','-','+'},{'o','+','o','-','o','-'},{'o','+','o','-','o','o'},{'o','+','o','-','o','+'},{'o','+','o','-','+','-'},{'o','+','o','-','+','o'},{'o','+','o','-','+','+'},{'o','+','o','o','-','-'},{'o','+','o','o','-','o'},{'o','+','o','o','-','+'},{'o','+','o','o','o','-'},{'o','+','o','o','o','o'},{'o','+','o','o','o','+'},{'o','+','o','o','+','-'},{'o','+','o','o','+','o'},{'o','+','o','o','+','+'},{'o','+','o','+','-','-'},{'o','+','o','+','-','o'},{'o','+','o','+','-','+'},{'o','+','o','+','o','-'},{'o','+','o','+','o','o'},{'o','+','o','+','o','+'},{'o','+','o','+','+','-'},{'o','+','o','+','+','o'},{'o','+','o','+','+','+'},{'o','+','+','-','-','-'},{'o','+','+','-','-','o'},{'o','+','+','-','-','+'},{'o','+','+','-','o','-'},{'o','+','+','-','o','o'},{'o','+','+','-','o','+'},{'o','+','+','-','+','-'},{'o','+','+','-','+','o'},{'o','+','+','-','+','+'},{'o','+','+','o','-','-'},{'o','+','+','o','-','o'},{'o','+','+','o','-','+'},{'o','+','+','o','o','-'},{'o','+','+','o','o','o'},{'o','+','+','o','o','+'},{'o','+','+','o','+','-'},{'o','+','+','o','+','o'},{'o','+','+','o','+','+'},{'o','+','+','+','-','-'},{'o','+','+','+','-','o'},{'o','+','+','+','-','+'},{'o','+','+','+','o','-'},{'o','+','+','+','o','o'},{'o','+','+','+','o','+'},{'o','+','+','+','+','-'},{'o','+','+','+','+','o'},{'o','+','+','+','+','+'},{'+','-','-','-','-','-'},{'+','-','-','-','-','o'},{'+','-','-','-','-','+'},{'+','-','-','-','o','-'},{'+','-','-','-','o','o'},{'+','-','-','-','o','+'},{'+','-','-','-','+','-'},{'+','-','-','-','+','o'},{'+','-','-','-','+','+'},{'+','-','-','o','-','-'},{'+','-','-','o','-','o'},{'+','-','-','o','-','+'},{'+','-','-','o','o','-'},{'+','-','-','o','o','o'},{'+','-','-','o','o','+'},{'+','-','-','o','+','-'},{'+','-','-','o','+','o'},{'+','-','-','o','+','+'},{'+','-','-','+','-','-'},{'+','-','-','+','-','o'},{'+','-','-','+','-','+'},{'+','-','-','+','o','-'},{'+','-','-','+','o','o'},{'+','-','-','+','o','+'},{'+','-','-','+','+','-'},{'+','-','-','+','+','o'},{'+','-','-','+','+','+'},{'+','-','o','-','-','-'},{'+','-','o','-','-','o'},{'+','-','o','-','-','+'},{'+','-','o','-','o','-'},{'+','-','o','-','o','o'},{'+','-','o','-','o','+'},{'+','-','o','-','+','-'},{'+','-','o','-','+','o'},{'+','-','o','-','+','+'},{'+','-','o','o','-','-'},{'+','-','o','o','-','o'},{'+','-','o','o','-','+'},{'+','-','o','o','o','-'},{'+','-','o','o','o','o'},{'+','-','o','o','o','+'},{'+','-','o','o','+','-'},{'+','-','o','o','+','o'},{'+','-','o','o','+','+'},{'+','-','o','+','-','-'},{'+','-','o','+','-','o'},{'+','-','o','+','-','+'},{'+','-','o','+','o','-'},{'+','-','o','+','o','o'},{'+','-','o','+','o','+'},{'+','-','o','+','+','-'},{'+','-','o','+','+','o'},{'+','-','o','+','+','+'},{'+','-','+','-','-','-'},{'+','-','+','-','-','o'},{'+','-','+','-','-','+'},{'+','-','+','-','o','-'},{'+','-','+','-','o','o'},{'+','-','+','-','o','+'},{'+','-','+','-','+','-'},{'+','-','+','-','+','o'},{'+','-','+','-','+','+'},{'+','-','+','o','-','-'},{'+','-','+','o','-','o'},{'+','-','+','o','-','+'},{'+','-','+','o','o','-'},{'+','-','+','o','o','o'},{'+','-','+','o','o','+'},{'+','-','+','o','+','-'},{'+','-','+','o','+','o'},{'+','-','+','o','+','+'},{'+','-','+','+','-','-'},{'+','-','+','+','-','o'},{'+','-','+','+','-','+'},{'+','-','+','+','o','-'},{'+','-','+','+','o','o'},{'+','-','+','+','o','+'},{'+','-','+','+','+','-'},{'+','-','+','+','+','o'},{'+','-','+','+','+','+'},{'+','o','-','-','-','-'},{'+','o','-','-','-','o'},{'+','o','-','-','-','+'},{'+','o','-','-','o','-'},{'+','o','-','-','o','o'},{'+','o','-','-','o','+'},{'+','o','-','-','+','-'},{'+','o','-','-','+','o'},{'+','o','-','-','+','+'},{'+','o','-','o','-','-'},{'+','o','-','o','-','o'},{'+','o','-','o','-','+'},{'+','o','-','o','o','-'},{'+','o','-','o','o','o'},{'+','o','-','o','o','+'},{'+','o','-','o','+','-'},{'+','o','-','o','+','o'},{'+','o','-','o','+','+'},{'+','o','-','+','-','-'},{'+','o','-','+','-','o'},{'+','o','-','+','-','+'},{'+','o','-','+','o','-'},{'+','o','-','+','o','o'},{'+','o','-','+','o','+'},{'+','o','-','+','+','-'},{'+','o','-','+','+','o'},{'+','o','-','+','+','+'},{'+','o','o','-','-','-'},{'+','o','o','-','-','o'},{'+','o','o','-','-','+'},{'+','o','o','-','o','-'},{'+','o','o','-','o','o'},{'+','o','o','-','o','+'},{'+','o','o','-','+','-'},{'+','o','o','-','+','o'},{'+','o','o','-','+','+'},{'+','o','o','o','-','-'},{'+','o','o','o','-','o'},{'+','o','o','o','-','+'},{'+','o','o','o','o','-'},{'+','o','o','o','o','o'},{'+','o','o','o','o','+'},{'+','o','o','o','+','-'},{'+','o','o','o','+','o'},{'+','o','o','o','+','+'},{'+','o','o','+','-','-'},{'+','o','o','+','-','o'},{'+','o','o','+','-','+'},{'+','o','o','+','o','-'},{'+','o','o','+','o','o'},{'+','o','o','+','o','+'},{'+','o','o','+','+','-'},{'+','o','o','+','+','o'},{'+','o','o','+','+','+'},{'+','o','+','-','-','-'},{'+','o','+','-','-','o'},{'+','o','+','-','-','+'},{'+','o','+','-','o','-'},{'+','o','+','-','o','o'},{'+','o','+','-','o','+'},{'+','o','+','-','+','-'},{'+','o','+','-','+','o'},{'+','o','+','-','+','+'},{'+','o','+','o','-','-'},{'+','o','+','o','-','o'},{'+','o','+','o','-','+'},{'+','o','+','o','o','-'},{'+','o','+','o','o','o'},{'+','o','+','o','o','+'},{'+','o','+','o','+','-'},{'+','o','+','o','+','o'},{'+','o','+','o','+','+'},{'+','o','+','+','-','-'},{'+','o','+','+','-','o'},{'+','o','+','+','-','+'},{'+','o','+','+','o','-'},{'+','o','+','+','o','o'},{'+','o','+','+','o','+'},{'+','o','+','+','+','-'},{'+','o','+','+','+','o'},{'+','o','+','+','+','+'},{'+','+','-','-','-','-'},{'+','+','-','-','-','o'},{'+','+','-','-','-','+'},{'+','+','-','-','o','-'},{'+','+','-','-','o','o'},{'+','+','-','-','o','+'},{'+','+','-','-','+','-'},{'+','+','-','-','+','o'},{'+','+','-','-','+','+'},{'+','+','-','o','-','-'},{'+','+','-','o','-','o'},{'+','+','-','o','-','+'},{'+','+','-','o','o','-'},{'+','+','-','o','o','o'},{'+','+','-','o','o','+'},{'+','+','-','o','+','-'},{'+','+','-','o','+','o'},{'+','+','-','o','+','+'},{'+','+','-','+','-','-'},{'+','+','-','+','-','o'},{'+','+','-','+','-','+'},{'+','+','-','+','o','-'},{'+','+','-','+','o','o'},{'+','+','-','+','o','+'},{'+','+','-','+','+','-'},{'+','+','-','+','+','o'},{'+','+','-','+','+','+'},{'+','+','o','-','-','-'},{'+','+','o','-','-','o'},{'+','+','o','-','-','+'},{'+','+','o','-','o','-'},{'+','+','o','-','o','o'},{'+','+','o','-','o','+'},{'+','+','o','-','+','-'},{'+','+','o','-','+','o'},{'+','+','o','-','+','+'},{'+','+','o','o','-','-'},{'+','+','o','o','-','o'},{'+','+','o','o','-','+'},{'+','+','o','o','o','-'},{'+','+','o','o','o','o'},{'+','+','o','o','o','+'},{'+','+','o','o','+','-'},{'+','+','o','o','+','o'},{'+','+','o','o','+','+'},{'+','+','o','+','-','-'},{'+','+','o','+','-','o'},{'+','+','o','+','-','+'},{'+','+','o','+','o','-'},{'+','+','o','+','o','o'},{'+','+','o','+','o','+'},{'+','+','o','+','+','-'},{'+','+','o','+','+','o'},{'+','+','o','+','+','+'},{'+','+','+','-','-','-'},{'+','+','+','-','-','o'},{'+','+','+','-','-','+'},{'+','+','+','-','o','-'},{'+','+','+','-','o','o'},{'+','+','+','-','o','+'},{'+','+','+','-','+','-'},{'+','+','+','-','+','o'},{'+','+','+','-','+','+'},{'+','+','+','o','-','-'},{'+','+','+','o','-','o'},{'+','+','+','o','-','+'},{'+','+','+','o','o','-'},{'+','+','+','o','o','o'},{'+','+','+','o','o','+'},{'+','+','+','o','+','-'},{'+','+','+','o','+','o'},{'+','+','+','o','+','+'},{'+','+','+','+','-','-'},{'+','+','+','+','-','o'},{'+','+','+','+','-','+'},{'+','+','+','+','o','-'},{'+','+','+','+','o','o'},{'+','+','+','+','o','+'},{'+','+','+','+','+','-'},{'+','+','+','+','+','o'},{'+','+','+','+','+','+'}};
    }

    public short[][] vrniMapoOdzivov() {
        short[][] mapa = new short[this.mozneBesede.length][this.mozneBesede.length];

        for (short i=0; i<this.mozneBesede.length; i++) {
            for (short j=0; j<this.mozneBesede.length; j++) {
                char[] odziv = pretvoriOdziv(TestSkupno.izracunajOdziv(new String(this.mozneBesede[i]), new String(this.mozneBesede[j])));
                mapa[i][j] = dobiIndex(mozniOdzivi, odziv);
            }
        }

        return mapa;
    }

    public short[][]vrniMapoOdzivovPreCompile() {
        return new short[][] ;
    }

    public char[] vrniOptimalnoBesedo() {
        // indeks števila predstavlja ascii code char-a
        int[][] mapaStCrk = vrniMapoStCrk();
        char[] najCrke = new char[this.dolzinaBesed];

        int najCrkeCounter = 0;
        for (int i=0; i<this.dolzinaBesed; i++) {
            char najCrka = 0;
            int najPojav = -1;

            for (char crka='a'; crka<='z'; crka++) {
                if (kolikoVTabeli(najCrke, crka) > 0 && !moramRabimIstoCrko()) {
                    continue;
                }

                int[] stCrk = mapaStCrk[crka];

                if (stCrk[i] > najPojav) {
                    najPojav = stCrk[i];
                    najCrka = crka;
                }
            }

            najCrke[najCrkeCounter] = najCrka;
            najCrkeCounter++;
        }

        return najCrke;
    }

    public boolean moramRabimIstoCrko() {
        for (char[] beseda: this.filtriraneBesede) {
            if (!imaPonavljajoceCrke(beseda)) {
                return false;
            }
        }

        return true;
    }

    public boolean imaPonavljajoceCrke(char[] beseda) {
        for (int i=0; i<beseda.length; i++) {
            for (int j=0; j<beseda.length; j++) {
                if (i == j) {
                    continue;
                }

                if (beseda[i] == beseda[j]) {
                    return true;
                }
            }
        }

        return false;
    }

    public int[][] vrniMapoStCrk() {
        char[] crke = "abcdefghijklmnoprstuvz".toCharArray();
        int[][] mapaStCrk = new int['z' + 1][this.dolzinaBesed];

        for (char crka: crke) {
            for (char[] beseda: this.filtriraneBesede) {
                int[]indeksiCrk = vrniVseIndekse(beseda, crka);

                if (indeksiCrk == null) {
                    continue;
                }

                for (int indeks: indeksiCrk) {
                    mapaStCrk[crka][indeks]++;
                }
            }
        }

        return mapaStCrk;
    }

    public int[] vrniVseIndekse(char[] beseda, char crka) {
        int stCrk = kolikoVTabeli(beseda, crka);

        if (stCrk == 0) {
            return null;
        }

        int[] vsiIndeksi = new int[stCrk];

        int indeksiCounter = 0;
        for (int i=0; i<beseda.length; i++) {
            char crkaVBesedi = beseda[i];

            if (crkaVBesedi == crka) {
                vsiIndeksi[indeksiCounter] = i;
                indeksiCounter++;
            }
        }

        return vsiIndeksi;
    }

    public static char[] pretvoriOdziv(List<Character> odzivSeznam) {
        char[] odziv = new char[6];

        for (int i=0; i<6; i++) {
            odziv[i] = odzivSeznam.get(i);
        }

        return odziv;
    }

    public static short dobiIndex(char[][] tabela, char[] odziv) {

        for (short i=0; i<tabela.length; i++) {
            if (Arrays.equals(tabela[i], odziv)) {
                return i;
            }
        }

        throw new RuntimeException("se ne bi smelo zgoditi :(");
    }

    public static char[][] pretvoriBesede(Set<String> besede) {
        int stBesed = besede.size();
        char[][] tabelaBesed = new char[stBesed][6];

        int indeks = 0;
        for (String beseda: besede) {
            tabelaBesed[indeks] = beseda.toCharArray();
            indeks++;
        }

        return tabelaBesed;
    }

    public short kolikoVTabeli(char[] tabela, char iskani) {
        short stevilo = 0;

        for (char element: tabela) {
            if (element == iskani) {
                stevilo++;
            }
        }

        return stevilo;
    }

    public short kolikoVTabeli(char[][] tabela, char[] iskani) {
        short stevilo = 0;

        for (char[] element: tabela) {
            if (Arrays.equals(element, iskani)) {
                stevilo++;
            }
        }

        return stevilo;
    }

    public void odstaniUgotovljenoBesedo() {
        for (int i=0; i<this.mozneBesede.length; i++) {
            if (Arrays.equals(this.mozneBesede[i], this.prejsnjaIzbira)) {
                this.mozneBesede[i] = null;
                break;
            }
        }

        this.mozneBesede = odstraniVseNull(this.mozneBesede);
    }

    public char[][] odstraniVseNull(char[][] seznam) {
        int stNull = kolikoVTabeli(seznam, null);
        int novaDolzina = seznam.length - stNull;
        char[][] novaTabela = new char[novaDolzina][this.dolzinaBesed];

        int counterNove = 0;
        for (char[] beseda : seznam) {
            if (beseda == null) {
                continue;
            }

            novaTabela[counterNove] = beseda;
            counterNove++;
        }

        return novaTabela;
    }

    public char[][] filtrirajBesede(char[][] besede, char[] prejsnjaBeseda, char[] odziv) {
        char[] pravilneCrke = new char[this.dolzinaBesed];
        char[] ugodneCrke = new char[this.dolzinaBesed];
        char[] napacneCrke = new char[this.dolzinaBesed];

        for (int i=0; i<odziv.length; i++) {
            char znak = odziv[i];

            switch (znak) {
                case '+':
                    pravilneCrke[i] = prejsnjaBeseda[i];
                    break;
                case 'o':
                    ugodneCrke[i] = prejsnjaBeseda[i];
                    break;
                case '-':
                    napacneCrke[i] = prejsnjaBeseda[i];
                    break;
            }
        }

        outer:
        for (int i=0; i<besede.length; i++) {
            char[] beseda = besede[i];

            // pravilne črke
            for (int j = 0; j < pravilneCrke.length; j++) {
                char pravilnaCrka = pravilneCrke[j];

                if (pravilnaCrka == 0) {
                    continue;
                }

                if (pravilnaCrka != beseda[j]) {
                    besede[i] = null;
                    continue outer;
                }
            }

            // ugodne črke
            for (int j = 0; j < ugodneCrke.length; j++) {
                char ugodnaCrka = ugodneCrke[j];

                if (ugodnaCrka == 0) {
                    continue;
                }

                // odstrani besedo, če ima ugodno črko na istem indeksu
                if (ugodnaCrka == beseda[j]) {
                    besede[i] = null;
                    continue outer;
                }

                // odstrani besedo, če ima manj ugodnih črk kakor jih je v odzivu
                if (kolikoVTabeli(beseda, ugodnaCrka) < kolikoVTabeli(ugodneCrke, ugodnaCrka)) {
                    besede[i] = null;
                    continue outer;
                }
            }

            // napačne črke
            for (char napacnaCrka : napacneCrke) {
                if (napacnaCrka == 0) {
                    continue;
                }

                // odstrani besedo, če ima napačno črko (ki ni pravilna ali ugodna)
                if (kolikoVTabeli(pravilneCrke, napacnaCrka) + kolikoVTabeli(ugodneCrke, napacnaCrka) < kolikoVTabeli(beseda, napacnaCrka)) {
                    besede[i] = null;
                    continue outer;
                }
            }
        }

        return besede;
    }
}
